var menu_app=function(){function e(e){if(this.status&&200==this.status){var o=JSON.parse(this.responseText),g=$D.getByDataId(e.element_id);g.innerHTML=o.content,o.is_deleted?g.setAttribute("data-deleted","true"):o.menu_id&&g.setAttribute("data-menu-id",o.menu_id);var m=$D.get("."+n,g),z=t(g,"type");if(m){$D.addClass(m,_+z),$D.addClass(m,p+t(g,"align")),$D.addClass(m,u+t(g,z+"_style"));for(var b=$D.getAll(i,g),c=0;c<b.length;c++)$D.addClass(b[c],d+t(g,"sublist_position")),$D.addClass(b[c],l+t(g,"sublist_align"));var f=$D.get("."+r,g);f&&(f.innerText=t(g,"menu_label")),JSON.parse(t(g,"heading_toggle"))||$D.addClass(m,a),JSON.parse(t(g,"hide_submenu_toggle"))||$D.addClass(m,s)}e.data.loaded()}}function t(e,t){var i=e.getAttribute("data-"+t);return i&&i.trim()}var i=".zplink-list-container > .zplink-list > .zplink-sublist-container",n="zplink-element-container",a="zplink-heading-disable",s="zplink-submenu-disable",d="zplink-sublist-from-",l="zplink-sublist-align-",r="zplink-heading",u="zplink-iconstyle-",p="zplink-align-",_="zplink-type-";return{init:function(t,i){var n={};n.element_id=t.getAttribute("data-element-id"),"undefined"!=typeof zs_resource_id&&(n.resource_id=zs_resource_id),"undefined"!=typeof zs_site_resource_id&&(n.site_resource_id=zs_site_resource_id);var a={};a.appCont=t,a.data=i,a.element_id=t.getAttribute("data-element-id"),$X.get({url:"/siteapps/menu",params:n,args:a,handler:e})}}}();